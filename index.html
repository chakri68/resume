<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Resume | Chakradhar Reddy Devireddy</title>

    <!--  Fonts  -->
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Source+Sans+Pro:wght@400;600;700&display=swap"
      rel="stylesheet"
    />

    <link rel="stylesheet" href="styles.css" />
  </head>

  <body class="classic-theme">
    <!-- Navigation -->
    <div class="nav-wrapper">
      <nav class="nav">
        <a href="#chakradhar-reddy" class="nav-logo">CR</a>
        <ul class="nav-menu">
          <li class="nav-item"><a href="#professional-summary">Summary</a></li>
          <li class="nav-item"><a href="#technical-skills">Skills</a></li>
          <li class="nav-item">
            <a href="#professional-experience">Experience</a>
          </li>
          <li class="nav-item"><a href="#projects">Projects</a></li>
          <li class="nav-item"><a href="#education">Education</a></li>
          <li class="nav-item"><a href="#achievements">Achievements</a></li>
        </ul>
        <div class="nav-controls">
          <button class="theme-toggle" aria-label="Toggle dark mode">
            <div class="theme-icon">üåô</div>
          </button>
          <button class="print-button" aria-label="Print resume">
            <div class="print-icon">üñ®Ô∏è</div>
          </button>
          <button class="mobile-menu-toggle" aria-label="Toggle mobile menu">
            ‚ò∞
          </button>
        </div>
      </nav>
    </div>

    <!-- HEADER SECTION -->
    <header class="resume-header">
      <h1 class="name" id="chakradhar-reddy"></h1>
      <div class="contact"></div>
    </header>
    <hr />

    <!-- PROFESSIONAL SUMMARY -->
    <section id="professional-summary">
      <h2>PROFESSIONAL SUMMARY</h2>
      <p></p>
    </section>

    <!-- TECHNICAL SKILLS -->
    <section id="technical-skills">
      <h2>TECHNICAL SKILLS</h2>
      <div class="skills-grid"></div>
    </section>

    <!-- PROFESSIONAL EXPERIENCE -->
    <section id="professional-experience">
      <h2>PROFESSIONAL EXPERIENCE</h2>
      <div class="experience-container"></div>
    </section>

    <!-- PROJECTS -->
    <section id="projects">
      <h2>PROJECTS</h2>
      <ul class="projects-list"></ul>
    </section>

    <!-- EDUCATION -->
    <section id="education">
      <h2>EDUCATION</h2>
      <p></p>
    </section>

    <!-- ACHIEVEMENTS -->
    <section id="achievements">
      <h2>ACHIEVEMENTS</h2>
      <ul class="achievements-list"></ul>
    </section>

    <hr />

    <!-- KEYWORDS -->
    <section id="keywords">
      <p><em></em></p>
    </section>

    <!-- Footer -->
    <footer>
      <p></p>
    </footer>

    <!-- Back to top button -->
    <a href="#chakradhar-reddy" class="back-to-top">‚Üë</a>

    <!-- JavaScript -->
    <script>
      // Load resume data based on the query param
      const resumeToLoad = new URLSearchParams(window.location.search).get(
        "resume"
      );

      function getResumeJson(name) {
        if (["fullstack", "frontend"].includes(resumeToLoad))
          return resumeToLoad;
        return "fullstack";
      }

      async function loadResumeData() {
        try {
          const response = await fetch(`${getResumeJson(resumeToLoad)}.json`);
          const data = await response.json();
          populateResume(data);
        } catch (error) {
          console.error("Error loading resume data:", error);
        }
      }

      function populateResume(data) {
        // Personal Info
        document.querySelector(".name").textContent = data.personal.name;

        // Contact Info
        const contactDiv = document.querySelector(".contact");
        Object.values(data.personal.contact).forEach((contact) => {
          const link = document.createElement("a");
          link.href = contact.url;
          link.textContent = contact.text;
          contactDiv.appendChild(link);
        });

        // Summary
        document.querySelector("#professional-summary p").textContent =
          data.summary.text;

        // Skills
        const skillsGrid = document.querySelector(".skills-grid");
        data.skills.categories.forEach((category) => {
          const skillItem = document.createElement("div");
          skillItem.className = "skills-item";
          skillItem.innerHTML = `<strong>${category.title}:</strong> ${category.items}`;
          skillsGrid.appendChild(skillItem);
        });

        // Experience
        const experienceContainer = document.querySelector(
          ".experience-container"
        );
        data.experience.forEach((exp) => {
          const article = document.createElement("article");
          article.innerHTML = `
            <h3>${exp.company}</h3>
            <div class="job-header">
              <p class="job-title">${exp.title} ‚Äî ${exp.location}</p>
              <p class="job-date">${exp.period}</p>
            </div>
            <ul>
              ${exp.achievements
                .map((achievement) => `<li>${achievement}</li>`)
                .join("")}
            </ul>
          `;
          experienceContainer.appendChild(article);
        });

        // Projects
        const projectsList = document.querySelector(".projects-list");
        data.projects.forEach((project) => {
          const li = document.createElement("li");
          li.innerHTML = `
            <strong>${project.name}</strong> ‚Äî ${project.description}
            <a href="${project.url}">GitHub</a>
          `;
          projectsList.appendChild(li);
        });

        // Education
        const education = data.education;
        document.querySelector("#education p").innerHTML = `
          <strong>${education.institution}</strong> ‚Äî
          <em>${education.degree}</em> (CGPA ${education.gpa})<br />
          ${education.period} ‚Ä¢ ${education.location}
        `;

        // Achievements
        const achievementsList = document.querySelector(".achievements-list");
        data.achievements.forEach((achievement) => {
          const li = document.createElement("li");
          li.innerHTML = `
            <strong>${achievement.title}</strong> ‚Äî ${achievement.description}
          `;
          achievementsList.appendChild(li);
        });

        // Keywords
        document.querySelector(
          "#keywords em"
        ).textContent = `Keywords: ${data.keywords}`;

        // Footer
        document.querySelector(
          "footer p"
        ).textContent = `${data.footer.copyright} ‚Ä¢ Last Updated: ${data.footer.lastUpdated}`;
      }

      // Load resume data when the page loads
      document.addEventListener("DOMContentLoaded", loadResumeData);

      // Dark mode toggle
      const themeToggle = document.querySelector(".theme-toggle");
      const themeIcon = document.querySelector(".theme-icon");

      // Check for saved theme preference or prefer-color-scheme
      const prefersDark =
        window.matchMedia &&
        window.matchMedia("(prefers-color-scheme: dark)").matches;
      const savedTheme = localStorage.getItem("theme");

      // Set initial theme
      if (savedTheme === "dark" || (!savedTheme && prefersDark)) {
        document.documentElement.setAttribute("data-theme", "dark");
        themeIcon.textContent = "‚òÄÔ∏è";
      }

      // Theme toggle functionality
      themeToggle.addEventListener("click", () => {
        const currentTheme =
          document.documentElement.getAttribute("data-theme");
        const newTheme = currentTheme === "dark" ? "light" : "dark";

        document.documentElement.setAttribute("data-theme", newTheme);
        localStorage.setItem("theme", newTheme);

        // Update icon
        themeIcon.textContent = newTheme === "dark" ? "‚òÄÔ∏è" : "üåô";
      });

      // Print button functionality
      const printButton = document.querySelector(".print-button");
      printButton.addEventListener("click", () => {
        window.print();
      });

      // Mobile menu toggle
      const mobileMenuToggle = document.querySelector(".mobile-menu-toggle");
      const navMenu = document.querySelector(".nav-menu");

      mobileMenuToggle.addEventListener("click", () => {
        navMenu.classList.toggle("active");
        mobileMenuToggle.textContent = navMenu.classList.contains("active")
          ? "‚úï"
          : "‚ò∞";
      });

      // Close mobile menu when clicking on a nav item
      document.querySelectorAll(".nav-item a").forEach((item) => {
        item.addEventListener("click", () => {
          navMenu.classList.remove("active");
          mobileMenuToggle.textContent = "‚ò∞";
        });
      });

      // Back to top button visibility
      const backToTopButton = document.querySelector(".back-to-top");

      window.addEventListener("scroll", () => {
        if (window.scrollY > 300) {
          backToTopButton.classList.add("visible");
        } else {
          backToTopButton.classList.remove("visible");
        }
      });

      // Section reveal on scroll
      const revealSections = () => {
        const sections = document.querySelectorAll("section");
        const windowHeight = window.innerHeight;

        sections.forEach((section) => {
          const sectionTop = section.getBoundingClientRect().top;
          if (sectionTop < windowHeight - 100) {
            section.classList.add("visible");
          }
        });
      };

      // Run on load
      revealSections();

      // Run on scroll
      window.addEventListener("scroll", revealSections);

      // Smooth scrolling for navigation links
      document.querySelectorAll('a[href^="#"]').forEach((anchor) => {
        anchor.addEventListener("click", function (e) {
          e.preventDefault();

          const targetId = this.getAttribute("href");
          const targetElement = document.querySelector(targetId);

          if (targetElement) {
            // Offset for fixed header
            const headerOffset = 70;
            const elementPosition = targetElement.getBoundingClientRect().top;
            const offsetPosition =
              elementPosition + window.pageYOffset - headerOffset;

            window.scrollTo({
              top: offsetPosition,
              behavior: "smooth",
            });
          }
        });
      });
    </script>
  </body>
</html>
